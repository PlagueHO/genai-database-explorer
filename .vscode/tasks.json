{
	"version": "2.0.0",
	"tasks": [
		// Build and Development Tasks
		{
			"label": "dotnet: build",
			"icon": {
				"id": "tools",
				"color": "terminal.ansiYellow"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"build",
				"GenAIDBExplorer.slnx",
				"/property:GenerateFullPaths=true",
				"/consoleloggerparameters:NoSummary"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "dotnet: watch",
			"icon": {
				"id": "eye-watch",
				"color": "terminal.ansiCyan"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"watch",
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "dotnet: publish",
			"icon": {
				"id": "package",
				"color": "terminal.ansiYellow"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"publish",
				"GenAIDBExplorer.slnx",
				"/property:GenerateFullPaths=true",
				"/consoleloggerparameters:NoSummary"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": "build",
			"problemMatcher": "$msCompile"
		},
		{
			"label": "dotnet: clean",
			"icon": {
				"id": "trash",
				"color": "terminal.ansiRed"
			},
			"type": "shell",
			"command": "dotnet",
			"args": [
				"clean",
				"src/GenAIDBExplorer/GenAIDBExplorer.slnx"
			],
			"group": "build"
		},
		{
			"label": "dotnet: restore",
			"icon": {
				"id": "cloud-download",
				"color": "terminal.ansiBlue"
			},
			"type": "shell",
			"command": "dotnet",
			"args": [
				"nuget",
				"locals",
				"all",
				"--clear"
			],
			"group": "build"
		},

		// Testing Tasks
		{
			"label": "dotnet: test",
			"icon": {
				"id": "beaker",
				"color": "terminal.ansiCyan"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"test",
				"--solution",
				"GenAIDBExplorer.slnx",
				"--no-build"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": {
				"kind": "test",
				"isDefault": true
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "dotnet: test (integration)",
			"icon": {
				"id": "beaker",
				"color": "terminal.ansiBlue"
			},
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-Command",
				"New-Item -ItemType Directory -Path './test-results' -Force | Out-Null; & ./.github/scripts/Invoke-IntegrationTests.ps1 -TestFilter $env:TEST_FILTER"
			],
			"group": {
				"kind": "test",
				"isDefault": false
			},
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"problemMatcher": [],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "new",
				"showReuseMessage": true,
				"clear": false
			}
		},

		// Code Quality Tasks
		{
			"label": "dotnet: format (verify)",
			"icon": {
				"id": "verified",
				"color": "terminal.ansiGreen"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"format",
				"GenAIDBExplorer.slnx",
				"--verify-no-changes",
				"--severity",
				"error"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": {
				"kind": "test",
				"isDefault": false
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "dotnet: format",
			"icon": {
				"id": "code",
				"color": "terminal.ansiMagenta"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"format",
				"GenAIDBExplorer.slnx"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": "build",
			"problemMatcher": "$msCompile"
		},
		{
			"label": "dotnet: format (whitespace)",
			"icon": {
				"id": "whitespace",
				"color": "terminal.ansiMagenta"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"format",
				"GenAIDBExplorer.slnx",
				"whitespace"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": "build",
			"problemMatcher": "$msCompile"
		},

		// CLI Application Tasks
		{
			"label": "cli: init project",
			"icon": {
				"id": "folder",
				"color": "terminal.ansiGreen"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"init-project",
				"--project",
				"D:/genaidbexp-temp/adventureworks"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "cli: extract model",
			"icon": {
				"id": "database",
				"color": "terminal.ansiBlue"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"extract-model",
				"--project",
				"D:/genaidbexp-temp/adventureworks",
				"--skip-tables",
				"--skip-views",
				"--skip-stored-procedures"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "cli: apply data dictionary",
			"icon": {
				"id": "book",
				"color": "terminal.ansiMagenta"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"data-dictionary",
				"--project",
				"D:/genaidbexp-temp/adventureworks",
				"--source-path-pattern",
				"D:/genaidbexp-temp/adventureworks/dict/*.json",
				"--objectType",
				"table",
				"--schema-name",
				"dbo",
				"--objectName",
				"tblItemSellingLimit",
				"--show"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "cli: enrich model",
			"icon": {
				"id": "sparkle",
				"color": "terminal.ansiYellow"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"enrich-model",
				"--project",
				"D:/genaidbexp-temp/adventureworks"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "cli: generate vectors",
			"icon": {
				"id": "symbol-numeric",
				"color": "terminal.ansiCyan"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"generate-vectors",
				"--project",
				"D:/genaidbexp-temp/adventureworks"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "cli: show object",
			"icon": {
				"id": "eye",
				"color": "terminal.ansiGreen"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"show-object",
				"table",
				"--project",
				"D:/genaidbexp-temp/adventureworks",
				"--schema-name",
				"SalesLT",
				"--name",
				"Product"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "cli: query model",
			"icon": {
				"id": "search",
				"color": "terminal.ansiYellow"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"query-model",
				"--project",
				"D:/genaidbexp-temp/adventureworks"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "cli: export model",
			"icon": {
				"id": "export",
				"color": "terminal.ansiMagenta"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"export-model",
				"--project",
				"D:/genaidbexp-temp/adventureworks",
				"--outputPath",
				"D:/genaidbexp-temp/adventureworks/exported_model.md",
			"--file-type",
			"markdown",
			"--split-files"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},

        // Bicep tasks
		{
			"label": "bicep: build",
			"icon": {
				"id": "file-code",
				"color": "terminal.ansiBlue"
			},
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-Command",
				"bicep build .\\infra\\main.bicep; Get-ChildItem -Path .\\infra -Filter 'main.bicep' -Recurse | ForEach-Object { if ($_.FullName -ne (Resolve-Path '.\\infra\\main.bicep').Path) { bicep build $_.FullName } }"
			],
			"group": {
				"kind": "build",
				"isDefault": false
			},
			"presentation": { "reveal": "always" },
			"problemMatcher": []
		},

		// Markdown Linting Tasks
		{
			"label": "markdown: lint",
			"type": "shell",
			"command": "pnpm",
			"args": ["lint:md"],
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"problemMatcher": [],
			"group": "test",
			"icon": {
				"id": "checklist",
				"color": "terminal.ansiMagenta"
			},
			"presentation": {
				"reveal": "always",
				"panel": "shared"
			}
		},
		{
			"label": "markdown: lint (fix)",
			"type": "shell",
			"command": "pnpm",
			"args": ["lint:md:fix"],
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"problemMatcher": [],
			"icon": {
				"id": "wrench",
				"color": "terminal.ansiGreen"
			},
			"presentation": {
				"reveal": "always",
				"panel": "shared"
			}
		}
	]
}