{
	"version": "2.0.0",
	"tasks": [
		// Build and Development Tasks
		{
			"label": "Build: Solution (GenAIDBExplorer)",
			"icon": {
				"id": "terminal"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"build",
				"GenAIDBExplorer.slnx",
				"/property:GenerateFullPaths=true",
				"/consoleloggerparameters:NoSummary"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "Watch: Console (GenAIDBExplorer)",
			"icon": {
				"id": "eye"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"watch",
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "Build: Solution - Publish (GenAIDBExplorer)",
			"icon": {
				"id": "package"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"publish",
				"GenAIDBExplorer.slnx",
				"/property:GenerateFullPaths=true",
				"/consoleloggerparameters:NoSummary"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": "build",
			"problemMatcher": "$msCompile"
		},
		{
			"label": "Build: Solution - Clean (GenAIDBExplorer)",
			"icon": {
				"id": "trash"
			},
			"type": "shell",
			"command": "dotnet",
			"args": [
				"clean",
				"src/GenAIDBExplorer/GenAIDBExplorer.slnx"
			],
			"group": "build"
		},
		{
			"label": "Restore: NuGet Cache - Clear (GenAIDBExplorer)",
			"icon": {
				"id": "clear-all"
			},
			"type": "shell",
			"command": "dotnet",
			"args": [
				"nuget",
				"locals",
				"all",
				"--clear"
			],
			"group": "build"
		},

		// Testing Tasks
		{
			"label": "Test (Unit): Solution (GenAIDBExplorer)",
			"icon": {
				"id": "beaker"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"test",
				"--solution",
				"GenAIDBExplorer.slnx",
				"--no-build"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": {
				"kind": "test",
				"isDefault": true
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "Test (Integration): Console (GenAIDBExplorer)",
			"icon": {
				"id": "terminal"
			},
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-Command",
				"New-Item -ItemType Directory -Path './test-results' -Force | Out-Null; & ./.github/scripts/Invoke-IntegrationTests.ps1 -TestFilter $env:TEST_FILTER"
			],
			"group": {
				"kind": "test",
				"isDefault": false
			},
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"problemMatcher": [],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "new",
				"showReuseMessage": true,
				"clear": false
			}
		},

		// Code Quality Tasks
		{
			"label": "Format: Solution - Verify (GenAIDBExplorer)",
			"icon": {
				"id": "check"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"format",
				"GenAIDBExplorer.slnx",
				"--verify-no-changes",
				"--severity",
				"error"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": {
				"kind": "test",
				"isDefault": false
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "Format: Solution - Fix All (GenAIDBExplorer)",
			"icon": {
				"id": "wrench"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"format",
				"GenAIDBExplorer.slnx"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": "build",
			"problemMatcher": "$msCompile"
		},
		{
			"label": "Format: Solution - Whitespace (GenAIDBExplorer)",
			"icon": {
				"id": "whitespace"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"format",
				"GenAIDBExplorer.slnx",
				"whitespace"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": "build",
			"problemMatcher": "$msCompile"
		},

		// CLI Application Tasks
		{
			"label": "CLI: Init Project (GenAIDBExplorer)",
			"icon": {
				"id": "folder"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"init-project",
				"--project",
				"D:/genaidbexp-temp/adventureworks"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "CLI: Extract Model (GenAIDBExplorer)",
			"icon": {
				"id": "database"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"extract-model",
				"--project",
				"D:/genaidbexp-temp/adventureworks",
				"--skip-tables",
				"--skip-views",
				"--skip-stored-procedures"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "CLI: Apply Data Dictionary (GenAIDBExplorer)",
			"icon": {
				"id": "book"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"data-dictionary",
				"--project",
				"D:/genaidbexp-temp/adventureworks",
				"--source-path-pattern",
				"D:/genaidbexp-temp/adventureworks/dict/*.json",
				"--objectType",
				"table",
				"--schema-name",
				"dbo",
				"--objectName",
				"tblItemSellingLimit",
				"--show"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "CLI: Enrich Model (GenAIDBExplorer)",
			"icon": {
				"id": "sparkle"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"enrich-model",
				"--project",
				"D:/genaidbexp-temp/adventureworks"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "CLI: Generate Vectors (GenAIDBExplorer)",
			"icon": {
				"id": "symbol-numeric"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"generate-vectors",
				"--project",
				"D:/genaidbexp-temp/adventureworks"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "CLI: Show Object (GenAIDBExplorer)",
			"icon": {
				"id": "eye"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"show-object",
				"table",
				"--project",
				"D:/genaidbexp-temp/adventureworks",
				"--schema-name",
				"SalesLT",
				"--name",
				"Product"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "CLI: Query Model (GenAIDBExplorer)",
			"icon": {
				"id": "search"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"query-model",
				"--project",
				"D:/genaidbexp-temp/adventureworks"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "CLI: Export Model (GenAIDBExplorer)",
			"icon": {
				"id": "export"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"export-model",
				"--project",
				"D:/genaidbexp-temp/adventureworks",
				"--outputPath",
				"D:/genaidbexp-temp/adventureworks/exported_model.md",
			"--file-type",
			"markdown",
			"--split-files"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},

        // Bicep tasks
		{
			"label": "Build: Infrastructure (Bicep)",
			"icon": {
				"id": "azure"
			},
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-Command",
				"bicep build .\\infra\\main.bicep; Get-ChildItem -Path .\\infra -Filter 'main.bicep' -Recurse | ForEach-Object { if ($_.FullName -ne (Resolve-Path '.\\infra\\main.bicep').Path) { bicep build $_.FullName } }"
			],
			"group": {
				"kind": "build",
				"isDefault": false
			},
			"presentation": { "reveal": "always" },
			"problemMatcher": []
		}
	]
}