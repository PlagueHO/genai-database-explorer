{
	"version": "2.0.0",
	"tasks": [
		// Build and Development Tasks
		{
			"label": "dotnet-build-solution",
			"icon": {
				"id": "terminal"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"build",
				"GenAIDBExplorer.sln",
				"/property:GenerateFullPaths=true",
				"/consoleloggerparameters:NoSummary"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "dotnet-watch-console",
			"icon": {
				"id": "eye"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"watch",
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "dotnet-publish-solution",
			"icon": {
				"id": "package"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"publish",
				"GenAIDBExplorer.sln",
				"/property:GenerateFullPaths=true",
				"/consoleloggerparameters:NoSummary"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": "build",
			"problemMatcher": "$msCompile"
		},
		{
			"label": "dotnet-clean-solution",
			"icon": {
				"id": "trash"
			},
			"type": "shell",
			"command": "dotnet",
			"args": [
				"clean",
				"src/GenAIDBExplorer/GenAIDBExplorer.sln"
			],
			"group": "build"
		},
		{
			"label": "dotnet-clear-nuget-cache",
			"icon": {
				"id": "clear-all"
			},
			"type": "shell",
			"command": "dotnet",
			"args": [
				"nuget",
				"locals",
				"all",
				"--clear"
			],
			"group": "build"
		},

		// Testing Tasks
		{
			"label": "dotnet-test-unit",
			"icon": {
				"id": "beaker"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"test",
				"GenAIDBExplorer.sln",
				"--no-build"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": {
				"kind": "test",
				"isDefault": true
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "test-console-integration",
			"icon": {
				"id": "terminal"
			},
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-Command",
				"New-Item -ItemType Directory -Path './test-results' -Force | Out-Null; & ./.github/scripts/Invoke-IntegrationTests.ps1 -TestFilter $env:TEST_FILTER"
			],
			"group": {
				"kind": "test",
				"isDefault": false
			},
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"problemMatcher": [],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "new",
				"showReuseMessage": true,
				"clear": false
			}
		},

		// Code Quality Tasks
		{
			"label": "format-verify-no-changes",
			"icon": {
				"id": "check"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"format",
				"GenAIDBExplorer.sln",
				"--verify-no-changes",
				"--severity",
				"error"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": {
				"kind": "test",
				"isDefault": false
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "format-fix-all-issues",
			"icon": {
				"id": "wrench"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"format",
				"GenAIDBExplorer.sln"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": "build",
			"problemMatcher": "$msCompile"
		},
		{
			"label": "format-fix-whitespace-only",
			"icon": {
				"id": "whitespace"
			},
			"command": "dotnet",
			"type": "process",
			"args": [
				"format",
				"GenAIDBExplorer.sln",
				"whitespace"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"group": "build",
			"problemMatcher": "$msCompile"
		},

		// CLI Application Tasks
		{
			"label": "cli-init-project-temp",
			"icon": {
				"id": "folder"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"init-project",
				"--project",
				"D:/genaidbexp-temp/adventureworks"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "cli-extract-model-temp",
			"icon": {
				"id": "database"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"extract-model",
				"--project",
				"D:/genaidbexp-temp/adventureworks",
				"--skipTables",
				"--skipViews",
				"--skipStoredProcedures"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "cli-apply-data-dictionary-temp",
			"icon": {
				"id": "book"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"data-dictionary",
				"--project",
				"D:/genaidbexp-temp/adventureworks",
				"--sourcePathPattern",
				"D:/genaidbexp-temp/adventureworks/dict/*.json",
				"--objectType",
				"table",
				"--schemaName",
				"dbo",
				"--objectName",
				"tblItemSellingLimit",
				"--show"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "cli-enrich-model-temp",
			"icon": {
				"id": "sparkle"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"enrich-model",
				"--project",
				"D:/genaidbexp-temp/adventureworks"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "cli-generate-vectors-temp",
			"icon": {
				"id": "symbol-numeric"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"generate-vectors",
				"--project",
				"D:/genaidbexp-temp/adventureworks"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "cli-show-object-temp",
			"icon": {
				"id": "eye"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"show-object",
				"table",
				"--project",
				"D:/genaidbexp-temp/adventureworks",
				"--schemaName",
				"SalesLT",
				"--name",
				"Product"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "cli-query-model-temp",
			"icon": {
				"id": "search"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"query-model",
				"--project",
				"D:/genaidbexp-temp/adventureworks"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},
		{
			"label": "cli-export-model-temp",
			"icon": {
				"id": "export"
			},
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"GenAIDBExplorer.Console/GenAIDBExplorer.Console.csproj",
				"--",
				"export-model",
				"--project",
				"D:/genaidbexp-temp/adventureworks",
				"--outputPath",
				"D:/genaidbexp-temp/adventureworks/exported_model.md",
				"--fileType",
				"markdown",
				"--splitFiles"
			],
			"options": {
				"cwd": "${workspaceFolder}/src/GenAIDBExplorer"
			},
			"problemMatcher": "$msCompile"
		},

        // Bicep tasks
		{
			"label": "Build Bicep",
			"icon": {
				"id": "azure"
			},
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-Command",
				"bicep build .\\infra\\main.bicep; Get-ChildItem -Path .\\infra -Filter 'main.bicep' -Recurse | ForEach-Object { if ($_.FullName -ne (Resolve-Path '.\\infra\\main.bicep').Path) { bicep build $_.FullName } }"
			],
			"group": {
				"kind": "build",
				"isDefault": false
			},
			"presentation": { "reveal": "always" },
			"problemMatcher": []
		}
	]
}